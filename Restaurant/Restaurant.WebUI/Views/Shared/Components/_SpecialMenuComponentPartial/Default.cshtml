@using Restaurant.DtoLayer.CatalogDtos.MenuDtos.SpecialMenuDtos
@model List<ResultSpecialMenuDtos>

<style>
    .special-menu-wrapper {
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        gap: 24px;
    }

    @@media (max-width: 768px) {
        .special-menu-wrapper {
            grid-template-columns: 1fr;
        }
    }

    .special-card {
        background: #fff;
        border-radius: 14px;
        overflow: hidden;
        box-shadow: 0 8px 25px rgba(0,0,0,0.08);
        transition: .25s;
        pointer-events: none;
    }

    .special-card-body,
    .special-card-body * {
        pointer-events: auto;
    }

    .special-card img {
        width: 100%;
        height: 220px;
        object-fit: cover;
    }

    .special-card-body {
        padding: 18px;
        display: flex;
        flex-direction: column;
        height: 100%;
    }

    .special-footer {
        display: flex;
        justify-content: space-between;
        align-items: center;
    }

    .special-price {
        font-size: 18px;
        font-weight: 700;
        color: #ff6b00;
    }

    .btn-add-cart {
        background: #ff6b00;
        color: #fff;
        padding: 8px 14px;
        border-radius: 8px;
        text-decoration: none;
        font-size: 14px;
        z-index: 10;
    }

        .btn-add-cart:hover {
            background: #e65f00;
            color: #fff;
        }
</style>

<div class="section_title text-center mb-80">

    <h3>Fırsat Menüler!!</h3>
</div>

<div class="container mt-4">
    <div class="special-menu-wrapper">

        @foreach (var item in Model)
        {
            <div class="special-card">
                <img src="@item.ImageUrl" />

                <div class="special-card-body">
                    <h4>@item.SpecialMenuName</h4>
                    <p>@item.Description</p>

                    <div class="special-footer">
                        <span class="special-price">₺@item.Price</span>

                        <!-- 🔥 KRİTİK KISIM -->
                        <a asp-controller="Basket"
                           asp-action="AddBasketItem"
                           asp-route-id="@item.SpecialMenuId"
                           asp-route-type="special"
                           class="btn-add-cart">
                            Sepete Ekle
                        </a>
                    </div>
                </div>
            </div>
        }

    </div>
</div>
